(()=>{var e={44:e=>{function t(e){let t=0;return{hit:()=>t++,isSunk:()=>t>=e}}function r(){let e=[[[0],[0],[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0],[0],[0]]],r=0,n=0,i=(n,i,l,a)=>{if(o(n,i,l,a)){let o=t(a);if(r++,1===l)for(let t=0;t<a;t++)e[n][i+t].push(o);else for(let t=0;t<a;t++)e[n+t][i].push(o)}},o=(t,r,n,i)=>{if(1===n){if(r+i-1>9)return!1;{let n=Math.max(0,t-1),o=Math.max(0,r-1),l=Math.min(9,t+1),a=Math.min(9,r+i);for(let t=n;t<=l;t++)for(let r=o;r<=a;r++)if(e[t][r].length>1)return!1;return!0}}if(t+i-1>9)return!1;{let n=Math.max(0,t-1),o=Math.max(0,r-1),l=Math.min(9,t+i),a=Math.min(9,r+1);for(let t=n;t<=l;t++)for(let r=o;r<=a;r++)if(e[t][r].length>1)return!1;return!0}},l=(t,n)=>e[t][n][0]>0?"Invalid move":1===e[t][n].length?(e[t][n][0]=2,"Miss"):(e[t][n][0]=1,e[t][n][1].hit(),e[t][n][1].isSunk()?(r--,"Hit! Ship sunk!"):"Hit!");const a=()=>{e=[[[0],[0],[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0],[0],[0]],[[0],[0],[0],[0],[0],[0],[0],[0],[0],[0]]],r=0};return{placeShip:i,receiveAttack:l,ifOver:()=>0===r,seeMatrix:()=>e,autoTurn:()=>{let t=[];for(x=0;x<10;x++)for(y=0;y<10;y++)0===e[x][y][0]&&t.push([x,y]);let r=Math.floor(Math.random()*t.length);return l(t[r][0],t[r][1])},reveal:()=>{for(x=0;x<10;x++)for(y=0;y<10;y++)0===e[x][y][0]&&e[x][y].length>1&&(e[x][y][0]=-1)},randomize:()=>{function e(t){let r=Math.floor(10*Math.random()),n=Math.floor(10*Math.random()),l=Math.floor(2*Math.random());o(r,n,l,t)?i(r,n,l,t):e(t)}a(),e(4),e(3),e(3),e(2),e(2),e(2),e(1),e(1),e(1),e(1)},nullify:a,seeLeft:()=>r,checkLegal:o,seeDir:()=>n,switchDir:()=>{n=0===n?1:0}}}function n(e){let t=!0===e?"Player":"Computer";return{getName:()=>t,board:r()}}e.exports={Ship:t,Gameboard:r,Player:n};let i=n(!0),o=n(!1);i.board.randomize(),o.board.randomize(),function(){let e=-1,t=document.querySelector(".container");t.setAttribute("style","display: flex; justify-content: space-around; align-items: center; height: 80vh;");let r=document.createElement("div"),n=document.createElement("div"),l=document.querySelector(".screen"),a=document.querySelector(".buttons"),d=document.querySelector(".alignment");return{refresh:async function s(){let u;if(t.textContent="",r.textContent="",n.textContent="",a.textContent="",d.textContent="",-2===e&&(0===i.board.seeLeft()?(u=4,l.textContent="Place 4-tile ship"):i.board.seeLeft()<3?(u=3,l.textContent="Place 3-tile ship"):i.board.seeLeft()<6?(u=2,l.textContent="Place 2-tile ship"):i.board.seeLeft()<10?(u=1,l.textContent="Place 1-tile ship"):(u=0,e=-1,l.textContent="Ships placed"),-2===e)){let e=document.createElement("div");e.textContent=0===i.board.seeDir()?"Ship alignment: Horizontal":"Ship alignment: Vertical";let t=document.createElement("button");t.textContent="Reverse ship alignment",t.addEventListener("click",(()=>{i.board.switchDir(),s()})),a.appendChild(t),d.appendChild(e)}for(let t=0;t<10;t++){let n=document.createElement("div");n.setAttribute("style","display: flex; flex-direction: column;");for(let r=0;r<10;r++){let o=document.createElement("div");o.setAttribute("style","background-color: azure; border: 1px solid black; width: 20px; height: 20px;"),i.board.seeMatrix()[t][r].length>1?(o.setAttribute("style","background-color: gray; border: 1px solid black; width: 20px; height: 20px;"),i.board.seeMatrix()[t][r][0]>0&&(i.board.seeMatrix()[t][r][1].isSunk()?o.setAttribute("style","background-color: red; border: 1px solid black; width: 20px; height: 20px"):o.setAttribute("style","background-color: orange; border: 1px solid black; width: 20px; height: 20px"))):i.board.seeMatrix()[t][r][0]>0&&o.setAttribute("style","background-color: lightblue; border: 1px solid black; width: 20px; height: 20px"),o.addEventListener("click",(()=>{-2===e&&(i.board.placeShip(t,r,i.board.seeDir(),u),s())})),n.appendChild(o)}r.appendChild(n)}r.setAttribute("style","display: flex;"),t.appendChild(r);for(let t=0;t<10;t++){let r=document.createElement("div");r.setAttribute("style","display: flex; flex-direction: column;");for(let n=0;n<10;n++){let i=document.createElement("div");i.setAttribute("style","background-color: azure; border: 1px solid black; width: 20px; height: 20px;"),o.board.seeMatrix()[t][n].length>1&&o.board.seeMatrix()[t][n][0]>0?o.board.seeMatrix()[t][n][1].isSunk()?i.setAttribute("style","background-color: red; border: 1px solid black; width: 20px; height: 20px"):i.setAttribute("style","background-color: orange; border: 1px solid black; width: 20px; height: 20px"):o.board.seeMatrix()[t][n][0]>0?i.setAttribute("style","background-color: lightblue; border: 1px solid black; width: 20px; height: 20px"):o.board.seeMatrix()[t][n][0]<0&&i.setAttribute("style","background-color: green; border: 1px solid black; width: 20px; height: 20px;"),i.addEventListener("click",(()=>{if(0===e){let r=o.board.receiveAttack(t,n);"Miss"===r?(e=1,l.textContent="Player missed! \n\nComputer Turn!"):"Hit!"===r?l.textContent="Player hit a ship! \nPlayer Turn!":"Hit! Ship sunk!"===r&&(o.board.ifOver()?(l.textContent="Player sunk a ship! \nGAME OVER! \nYou win! ...this time.",e=2):l.textContent="Player sunk a ship! \nPlayer Turn!"),s()}})),r.appendChild(i)}n.appendChild(r)}if(n.setAttribute("style","display: flex"),t.appendChild(n),1===e)setTimeout((function(){let t=i.board.autoTurn();"Miss"===t?(e=0,l.textContent="Computer missed! \nPlayer Turn!"):"Hit!"===t?l.textContent="Computer hit a ship! \nComputer Turn!":"Hit! Ship sunk!"===t&&(i.board.ifOver()?(l.textContent="Computer sunk a ship! \nGAME OVER! \nYOU LOSE!",e=2,o.board.reveal()):l.textContent="Computer sunk a ship! \nComputer Turn!"),s()}),2e3);else if(-1===e){let t=document.createElement("button"),r=document.createElement("button"),n=document.createElement("button");t.textContent="Randomize Board",r.textContent="Manual Placement",n.textContent="Begin!",t.addEventListener("click",(()=>{i.board.randomize(),s()})),n.addEventListener("click",(()=>{e++,l.textContent="Player Turn!",s()})),r.addEventListener("click",(()=>{i.board.nullify(),e=-2,s()})),a.appendChild(t),a.appendChild(n),a.appendChild(r)}}}}().refresh()}},t={};!function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}(44)})();